var navMove=function(option){var option=option||{},_this=this;_this.obody=option.obody;_this.ochild=option.ochild;_this.css3=option.css3;_this.bindclick=option.bindclick;_this.vertical=option.vertical;_this.preventDefault=option.preventDefault===undefined||option.preventDefault===true?true:false;_this.callBack=option.callBack;_this._init()};navMove.prototype={_init:function(){var _this=this;_this.startX=null;_this.startY=null;_this.moveX=null;_this.moveY=null;_this.startTime=null;_this.endTime=null;_this.x1=null;_this.x2=null;_this.x3=null;_this.y1=null;_this.y2=null;_this.y3=null;_this.move=false;_this.index=0;_this.countW=0;if(!_this.vertical){for(var i=0,j=_this.ochild.length;i<j;i+=1){_this.countW+=_this.ochild.eq(i).outerWidth(true)}_this.obody.width(_this.countW+10)}_this.obody.css({transform:"translate3d(0,0,0)"});_this._touchS();_this._touchM();_this._touchE();_this._checkTransition();_this._getIndex()},_touchS:function(){var _this=this;_this.obody.on("touchstart",function(e){if(_this.preventDefault){e.preventDefault()}_this.move=false;_this.startY=e.originalEvent.targetTouches[0].pageY;_this.startX=e.originalEvent.targetTouches[0].pageX;_this.x1=_this.obody.css("transform").slice(_this.obody.css("transform").lastIndexOf("0, 1,")+6,_this.obody.css("transform").lastIndexOf(","));_this.y1=_this.obody.css("transform").slice(_this.obody.css("transform").lastIndexOf(",")+2,_this.obody.css("transform").lastIndexOf(")"))})},_touchM:function(){var _this=this,num;_this.obody.on("touchmove",function(e){if(_this.preventDefault){e.preventDefault()}_this.move=true;_this.startTime=new Date().getTime();_this.moveX=e.originalEvent.targetTouches[0].pageX;_this.moveY=e.originalEvent.targetTouches[0].pageY;_this.x2=_this.startX-_this.moveX;_this.y2=_this.startY-_this.moveY;if(_this.vertical){num=parseInt(_this.y1)-_this.y2;_this.y3="translate3d(0,"+num+"px,0)";if(num>=0||num<-(_this.obody.height()-$(window).height())){return}else{_this.obody.css({transform:_this.y3})}}else{num=parseInt(_this.x1)-_this.x2;_this.x3="translate3d("+num+"px,0,0)";if(num>=0||num<-(_this.countW-$(window).width()+20)){return}else{_this.obody.css({transform:_this.x3})}}})},_touchE:function(){var _this=this,num;_this.obody.on("touchend",function(e){if(_this.preventDefault){e.preventDefault()}_this.endTime=new Date().getTime();if(_this.vertical){num=parseInt(_this.y1)-_this.y2;_this.y3="translate3d(0,"+num+"px,0)";if(_this.move){if(num>=0||num<-(_this.obody.height()-$(window).height())){return}else{_this.obody.css({transform:_this.y3,"transition-duration":_this.endTime-_this.startTime+500+"ms","transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)"})}}else{_this.move=false}}else{num=parseInt(_this.x1)-_this.x2;_this.x3="translate3d("+num+"px,0,0)";if(_this.move){if(num>=0||num<-(_this.countW-$(window).width()+20)){return}else{_this.obody.css({transform:_this.x3,"transition-duration":_this.endTime-_this.startTime+500+"ms","transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)"})}}else{_this.move=false}}if(_this.callBack&&typeof(_this.callBack)==="function"){_this.callBack(_this)}})},_move:function(){var _this=this;_this.obody.css({transform:"translate3d(-27px,0,0)"})},_checkTransition:function(){var _this=this;_this.obody.on("transitionend",function(){_this.obody.css({"transition-duration":"0ms"});if(_this.callBack&&typeof(_this.callBack)==="function"){_this.callBack(_this)}})},_getIndex:function(){var _this=this;_this.ochild.on("touchend",function(e){var $this=$(this);if(!_this.move){_this.index=$(this).index();if(_this.bindclick&&typeof(_this.bindclick)==="function"){_this.bindclick(_this,$this)}}})}};